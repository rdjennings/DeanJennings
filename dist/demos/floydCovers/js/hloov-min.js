var Hloov=function(b){if(typeof window.MOVE_UP==="undefined"){window.MOVE_UP="MOVE_UP";window.MOVE_DOWN="MOVE_DOWN";window.MOVE_LEFT="MOVE_LEFT";window.MOVE_RIGHT="MOVE_RIGHT";window.MOVE_UP_RIGHT="MOVE_UP_RIGHT";window.MOVE_UP_LEFT="MOVE_UP_LEFT";window.MOVE_DOWN_RIGHT="MOVE_DOWN_RIGHT";window.MOVE_DOWN_LEFT="MOVE_DOWN_LEFT";window.MOVE_CENTER="MOVE_CENTER"}var a={image:null,container:null,text:null,expansion:null,center:false,move:false,colorTop:false,shove:false};for(oItem in b){a[oItem]=b[oItem]}this.init(a)};Hloov.prototype.init=function(q){var e=this.context=this;var q=this.options=q;var b=this.container=q.container;var p=this.text=q.text;var j=this.image=q.image;var l=this.shove=q.shove;var i=this.move=q.move;var m=this.expansion=q.expansion;if(b.style.position===""){b.style.position="relative"}if(b.style.zIndex===""){b.style.zIndex="0"}var d=this.width=b.offsetWidth;var o=this.height=b.offsetHeight;if(q.expansion){if(!isNaN(q.expansion)&&q.expansion+0>1){this.expanded_width=parseInt(d*q.expansion)+"px";this.center=q.center;if(q.center){this.left=(-((parseInt(d*q.expansion)-d)/2))+"px"}else{if(q.goLeft){this.left=(-(parseInt(d*q.expansion)-d))+"px"}}}else{this_expanded_width=null}this.half=((parseInt(d*q.expansion)-d)/2)+"px";this.full=(parseInt(d*q.expansion)-d)+"px"}var c=document.createElement("canvas");c.setAttribute("width",d);c.setAttribute("height",o);c.style.zIndex="1";c.style.position="absolute";c.style.top="0";c.style.left="0";if(q.colorTop){var g=this.overlayCanvas=c}else{var n=this.baseCanvas=c}b.appendChild(c);var a=document.createElement("canvas");a.setAttribute("width",d);a.setAttribute("height",o);a.style.zIndex="10";a.style.position="absolute";a.style.top="0";a.style.left="0";if(q.colorTop){var n=this.baseCanvas=a}else{var g=this.overlayCanvas=a}b.appendChild(a);var k=this.baseContext=n.getContext("2d");var h=this.overlayContext=g.getContext("2d");var f=new Image();f.src=j;f.onload=function(){k.drawImage(f,0,0);var r=k.getImageData(0,0,500,300);var t=r.data;for(var s=0,v=t.length;s<v;s+=4){var u=t[s]*0.3+t[s+1]*0.59+t[s+2]*0.11;t[s]=u;t[s+1]=u;t[s+2]=u}h.putImageData(r,0,0)};this.bindEvents()};Hloov.prototype.bindEvents=function(){var a=this.context;this.container.onmouseover=function(){var b=this.getElementsByTagName("canvas")[0];b.style.zIndex="999";this.style.zIndex="999";if(a.expansion){b.style.width=a.expanded_width;if(a.shove){this.style.width=a.expanded_width}switch(a.move){case MOVE_UP:b.style.marginTop="-"+a.full;if(!a.shove){b.style.marginLeft="-"+a.half}break;case MOVE_DOWN:if(!a.shove){b.style.marginLeft="-"+a.half}break;case MOVE_LEFT:b.style.marginTop="-"+a.half;if(!a.shove){b.style.marginLeft="-"+a.full}break;case MOVE_RIGHT:b.style.marginTop="-"+a.half;if(!a.shove){b.style.marginRight="-"+a.full}break;case MOVE_UP_RIGHT:b.style.marginTop="-"+a.full;if(!a.shove){b.style.marginRight="-"+a.full}break;case MOVE_UP_LEFT:b.style.marginTop="-"+a.full;if(!a.shove){b.style.marginLeft="-"+a.full}break;case MOVE_DOWN_RIGHT:if(!a.shove){b.style.marginRight="-"+a.full}break;case MOVE_DOWN_LEFT:if(!a.shove){b.style.marginLeft="-"+a.full}break;case MOVE_CENTER:b.style.marginTop="-"+a.half;if(!a.shove){b.style.marginLeft="-"+a.half}break;default:break}}};this.container.onmouseout=function(){var b=this.getElementsByTagName("canvas")[0];b.style.zIndex="1";this.style.zIndex="1";b.style.width="";b.style.marginLeft="";b.style.marginTop="";this.style.width=a.width+"px";this.style.marginLeft=""}};